<div class="dialog-container">
  <h2 class="dialog-title">
    {{ data.isRead ? 'üìß Pregled poruke' : '‚úçÔ∏è Odgovor korisniku' }}
  </h2>

  <div class="dialog-content">
    <!-- User info -->
    <div class="info-section">
      <div class="info-row">
        <label>Korisnik:</label>
        <span>{{ data.userFullName }}</span>
      </div>
      <div class="info-row">
        <label>Email:</label>
        <span>{{ data.userEmail }}</span>
      </div>
      <div class="info-row">
        <label>Let:</label>
        <span>{{ data.flightCode }}</span>
      </div>
      <div class="info-row">
        <label>Datum:</label>
        <span>{{ data.sentAt | date: 'dd.MM.yyyy HH:mm' }}</span>
      </div>
    </div>

    <!-- Message -->
    <div class="message-section">
      <label>Poruka korisnika:</label>
      <div class="message-box">{{ data.message }}</div>
    </div>

    <!-- Reply textarea (ako nije odgovoreno) -->
    <div class="reply-section" *ngIf="!data.isRead">
      <label>Va≈° odgovor:</label>
      <textarea
        [(ngModel)]="replyText"
        placeholder="Unesite odgovor korisniku..."
        rows="6"
      ></textarea>
    </div>

    <!-- Admin reply (ako je veƒá odgovoreno) -->
    <div class="reply-section" *ngIf="data.isRead && data.adminReply">
      <label>Va≈° odgovor:</label>
      <div class="message-box reply-box">{{ data.adminReply }}</div>
    </div>
  </div>

  <!-- Actions -->
  <div class="dialog-actions">
    <button class="btn btn-cancel" (click)="dialogRef.close()">
      {{ data.isRead ? 'Zatvori' : 'Odustani' }}
    </button>

    <button
      *ngIf="!data.isRead"
      class="btn btn-send"
      (click)="sendReply()"
      [disabled]="!replyText.trim()"
    >
      Po≈°alji odgovor
    </button>
  </div>
</div>

