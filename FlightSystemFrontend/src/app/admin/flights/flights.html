<div class="flights-header">
  <div class="title-row">
    <h2>âœˆï¸ Letovi</h2>

    <button class="btn-add" (click)="openAddDialog()" >
      + Dodaj let
    </button>
  </div>

  <div class="filters-row">
    <!-- Pretraga po destinaciji -->
    <div class="filter-group">
      <input
        type="text"
        placeholder="PretraÅ¾i po destinaciji ğŸ”"
        [(ngModel)]="destinationSearchTerm"
        (input)="onDestinationSearch()"
        class="search-input"
      />
    </div>

    <!-- Filter po datumu -->
    <div class="filter-group date-filter">
      <input
        type="date"
        [(ngModel)]="selectedDate"
        (change)="onDateChange($event)"
        class="date-input"
        placeholder="PretraÅ¾i po datumu ğŸ“…"
      />
      <button
        *ngIf="selectedDate"
        class="btn-clear-date"
        (click)="clearDateFilter()"
        title="OÄisti datum">
        âœ•
      </button>
    </div>
  </div>
</div>

<!-- Loading state -->
<div *ngIf="loading" class="loading-container">
  <p>UÄitavanje letova...</p>
</div>

<!-- Empty state -->
<div *ngIf="!loading && filteredFlights.length === 0" class="empty-state">
  <p>Nema letova za prikaz.</p>
</div>

<!-- Flights table -->
<table class="flights-table" *ngIf="!loading && filteredFlights.length > 0">
  <thead>
  <tr>
    <th>Destinacija</th>
    <th>Datum</th>
    <th>Polazak/Dolazak</th>
    <th>Broj leta</th>
    <th>Cijena</th>
    <th>Status</th>
    <th>Uredi</th>
  </tr>
  </thead>

  <tbody>
  <tr *ngFor="let flight of filteredFlights">
    <!-- Destinacija -->
    <td class="destination-cell">
      {{ flight.destination }}
    </td>

    <!-- Datum -->
    <td>
      {{ formatDate(flight.departureTime) }}
    </td>

    <!-- Polazak/Dolazak -->
    <td class="time-cell">
      {{ formatTime(flight.departureTime) }}/{{ formatTime(flight.arrivalTime) }}
    </td>

    <!-- Broj leta -->
    <td class="flight-code">
      {{ flight.code }}
    </td>

    <!-- Cijena -->
    <td class="price-cell">
      {{ flight.price }}â‚¬
    </td>

    <!-- Status -->
    <!-- Status -->
    <!-- Status kolona u tabeli -->
    <td>
  <span class="status-badge" [ngClass]="getStatusClass(flight.status)">
    {{ getStatusLabel(flight.status) }}
  </span>
    </td>

    <!-- Actions -->
    <td class="actions-cell">
<!--      (click)="editFlight(flight)"-->
      <span class="icon edit"  title="Uredi">âœï¸</span>
      <span class="icon delete" (click)="deleteFlight(flight.id)" title="ObriÅ¡i">ğŸ—‘ï¸</span>
    </td>
  </tr>
  </tbody>
</table>
