<div class="aircraft-container">
  <div class="header">
    <h2>âœˆï¸ Airplane Management</h2>
    <button class="btn btn-primary" (click)="openAddModal()">+ Add Airplane</button>
  </div>

  <div *ngIf="loading" class="loading">
    <div class="spinner"></div>
    <p>Loading...</p>
  </div>

  <div *ngIf="error" class="error-state">
    <p> {{ error }}</p>
    <button class="btn btn-primary" (click)="loadAircrafts()"> Try again</button>
  </div>

  <div *ngIf="!loading && !error && aircrafts.length === 0" class="empty-state">
    <p> Nema dostupnih aviona u bazi.</p>
    <button class="btn btn-primary" (click)="openAddModal()">+ Add first airplane</button>
  </div>

  <table *ngIf="!loading && !error && aircrafts.length > 0" class="aircraft-table">
    <thead>
    <tr>
      <th>ID</th>
      <th>Model</th>
      <th>Registration Number</th>
      <th>Manufacturer</th>
      <th>Year Manufactured</th>
      <th>Passenger Capacity</th>
      <th>Status</th>
      <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let aircraft of aircrafts">
      <td>{{ aircraft.id }}</td>
      <td>{{ aircraft.model }}</td>
      <td>{{ aircraft.registrationNumber }}</td>
      <td>{{ aircraft.manufacturer }}</td>
      <td>{{ aircraft.yearManufacturer }}</td>
      <td>{{ aircraft.capacity }}</td>
      <td>
          <span [class]="aircraft.status ? 'status-active' : 'status-inactive'">
            {{ aircraft.status ? 'Active' : 'Inactive' }}
          </span>
      </td>
      <td class="actions">
        <button class="btn btn-edit" (click)="openEditModal(aircraft)">âœï¸ Edit</button>
        <button class="btn btn-delete" (click)="deleteAircraft(aircraft.id)">ğŸ—‘ï¸ Delete</button>
      </td>
    </tr>
    </tbody>
  </table>

  <!-- Modal -->
  <div *ngIf="showModal" class="modal-overlay" (click)="closeModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h3>{{ isEditMode ? 'Update airplane' : 'Add new airplane' }}</h3>
        <button class="close-btn" (click)="closeModal()">âœ•</button>
      </div>

      <form (ngSubmit)="onSubmit()" class="aircraft-form">
        <div class="form-group">
          <label>Model:</label>
          <input type="text" [(ngModel)]="formData.model" name="model" required class="form-control">
        </div>

        <div class="form-group">
          <label>Registration Number:</label>
          <input type="text" [(ngModel)]="formData.registrationNumber" name="registrationNumber" required class="form-control">
        </div>

        <div class="form-group">
          <label>Manufacturer:</label>
          <input type="text" [(ngModel)]="formData.manufacturer" name="manufacturer" required class="form-control">
        </div>

        <div class="form-group">
          <label>Year Manufactured:</label>
          <input type="number" [(ngModel)]="formData.yearManufacturer" name="yearManufacturer" required class="form-control">
        </div>

        <div class="form-group">
          <label>Passenger Capacity:</label>
          <input type="number" [(ngModel)]="formData.capacity" name="capacity" required class="form-control">
        </div>

        <div class="form-group checkbox-group">
          <label>
            <input type="checkbox" [(ngModel)]="formData.status" name="status">
            Active Status
          </label>
        </div>

        <div class="modal-actions">
          <button type="button" class="btn btn-cancel" (click)="closeModal()">Cancel</button>
          <button type="submit" class="btn btn-primary">{{ isEditMode ? 'Update' : 'Add' }}</button>
        </div>
      </form>
    </div>
  </div>
</div>




